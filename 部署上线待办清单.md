# 🚀 HOHO小程序部署上线待办清单

> 按优先级排序，逐项完成即可上线

## 📋 你需要做的工作

### ✅ 已完成
- [x] 小程序账号注册
- [x] 服务器购买
- [x] 域名购买
- [x] 域名备案

---

## 🎯 第一阶段：准备资源（1-2天）

### 1. 准备图标 ⭐⭐⭐（必须，最优先）

#### 需要准备的图标

**TabBar图标（10个，必须）**：
```
frontend/static/icons/
├── tab-works.png          # 作品（未选中）
├── tab-works-active.png   # 作品（选中）
├── tab-create.png         # 创作（未选中）
├── tab-create-active.png  # 创作（选中）
├── tab-exchange.png       # 集换（未选中）
├── tab-exchange-active.png # 集换（选中）
├── tab-ecology.png        # 生态（未选中）
├── tab-ecology-active.png # 生态（选中）
├── tab-profile.png        # 我的（未选中）
└── tab-profile-active.png # 我的（选中）
```

**规格要求**：
- 尺寸：81×81px
- 格式：PNG
- 背景：透明
- 颜色：未选中用灰色，选中用主题色

**获取方式**：
- 方案A：iconfont.cn 下载免费图标
- 方案B：找设计师设计（200-500元）
- 方案C：用Figma/Sketch自己设计

**时间**：1-2天

**参考文档**：[图标准备指南.md](./图标准备指南.md)

---

### 2. 提供API密钥 ⭐⭐⭐（必须）

#### 需要提供的信息

**A. 短信服务（必须，用于注册登录）**

选择一个短信服务商，提供以下信息：

**腾讯云短信**：
```
SMS_APP_ID=你的AppID
SMS_APP_KEY=你的AppKey
SMS_SIGN_NAME=你的签名
SMS_TEMPLATE_ID=你的模板ID
```

**阿里云短信**：
```
SMS_ACCESS_KEY_ID=你的AccessKeyId
SMS_ACCESS_KEY_SECRET=你的AccessKeySecret
SMS_SIGN_NAME=你的签名
SMS_TEMPLATE_CODE=你的模板代码
```

**成本**：约0.03-0.05元/条，充值100元可用

---

**B. 对象存储（必须，用于图片上传）**

选择一个对象存储服务，提供以下信息：

**腾讯云COS**：
```
COS_SECRET_ID=你的SecretId
COS_SECRET_KEY=你的SecretKey
COS_BUCKET=你的Bucket名称
COS_REGION=你的地域（如ap-guangzhou）
COS_DOMAIN=你的CDN域名（可选）
```

**阿里云OSS**：
```
OSS_ACCESS_KEY_ID=你的AccessKeyId
OSS_ACCESS_KEY_SECRET=你的AccessKeySecret
OSS_BUCKET=你的Bucket名称
OSS_ENDPOINT=你的Endpoint（如oss-cn-hangzhou.aliyuncs.com）
OSS_DOMAIN=你的CDN域名（可选）
```

**成本**：
- 存储：0.12元/GB/月
- 流量：0.5元/GB
- 首月通常有免费额度

**参考文档**：[图片上传配置说明.md](./图片上传配置说明.md)

---

**C. 鲸探API（可选，第三方关联功能）**

如果需要鲸探作品同步功能：
```
JINGTAN_API_KEY=你的API密钥
JINGTAN_API_SECRET=你的API密钥
```

**说明**：如果暂时没有，可以先不配置，不影响其他功能

---

### 3. 确认配置信息 ⭐⭐

#### 需要确认的信息

**服务器信息**：
- IP地址：`你的服务器IP`
- SSH端口：`22`（默认）
- SSH密码：`你的root密码`

**域名信息**：
- API域名：`api.你的域名.com`
- 小程序AppID：`wx...`（微信小程序后台获取）

**数据库密码**（我会帮你生成强密码）：
- MySQL root密码
- Redis密码

---

## 🎯 第二阶段：部署后端（半天）

### 4. 配置环境变量 ⭐⭐⭐

**我需要你提供**：
- [x] 短信API密钥
- [x] 对象存储API密钥
- [x] 服务器SSH信息
- [x] 域名信息
- [ ] 鲸探API密钥（可选）

**我会帮你做**：
- 创建完整的 `.env` 配置文件
- 生成安全的JWT密钥
- 生成数据库密码

---

### 5. 部署后端服务 ⭐⭐⭐

**我会帮你做**：
- SSH连接到服务器
- 运行一键部署脚本
- 配置Nginx
- 配置SSL证书（HTTPS）
- 启动服务

**你需要做**：
- 提供SSH访问权限
- 确认服务器可以访问

**时间**：约30分钟

---

## 🎯 第三阶段：编译前端（半天）

### 6. 配置前端 ⭐⭐⭐

**我会帮你做**：
- 修改API地址为你的域名
- 配置小程序AppID
- 检查所有配置

**你需要做**：
- 提供小程序AppID
- 确认API域名

---

### 7. 编译和上传 ⭐⭐

**你需要做**：

1. **下载工具**：
   - HBuilderX：https://www.dcloud.io/hbuilderx.html
   - 微信开发者工具：https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html

2. **打开项目**：
   - 用HBuilderX打开 `frontend` 目录

3. **运行到微信开发者工具**：
   - 运行 → 运行到小程序模拟器 → 微信开发者工具

4. **测试功能**：
   - 注册登录
   - 创作作品
   - 挂售兑换
   - 查看记录

5. **上传代码**：
   - 微信开发者工具 → 上传

**时间**：1-2小时

**参考文档**：[前端编译和文案修改指南.md](./前端编译和文案修改指南.md)

---

## 🎯 第四阶段：提交审核（1小时）

### 8. 配置小程序 ⭐⭐⭐

**你需要做**：

1. **配置服务器域名**：
   - 登录微信小程序后台
   - 开发 → 开发管理 → 服务器域名
   - 添加：`https://api.你的域名.com`

2. **配置业务域名**（如果有H5页面）：
   - 下载校验文件
   - 放到服务器
   - 验证通过

3. **填写小程序信息**：
   - 小程序名称
   - 小程序简介
   - 小程序图标（120×120px）
   - 服务类目

---

### 9. 提交审核 ⭐⭐⭐

**你需要做**：

1. **填写审核信息**：
   - 版本号：v1.0.0
   - 版本描述：首次发布
   - 测试账号（如果需要）

2. **提交审核**：
   - 点击"提交审核"
   - 等待审核（1-7天）

3. **审核通过后发布**：
   - 点击"发布"
   - 小程序上线！

**参考文档**：[小程序上线指南.md](./小程序上线指南.md)

---

## 📊 时间规划

| 阶段 | 任务 | 时间 | 负责人 |
|------|------|------|--------|
| **第1阶段** | 准备图标 | 1-2天 | 你 |
| **第1阶段** | 申请API密钥 | 半天 | 你 |
| **第2阶段** | 配置环境变量 | 1小时 | 我+你 |
| **第2阶段** | 部署后端 | 30分钟 | 我 |
| **第3阶段** | 配置前端 | 30分钟 | 我 |
| **第3阶段** | 编译上传 | 1-2小时 | 你 |
| **第4阶段** | 配置小程序 | 30分钟 | 你 |
| **第4阶段** | 提交审核 | 30分钟 | 你 |
| **等待** | 审核 | 1-7天 | 微信 |
| **总计** | - | **约3-4天** | - |

---

## ✅ 检查清单

### 准备阶段
- [ ] TabBar图标准备完成（10个PNG文件）
- [ ] 短信API密钥已获取
- [ ] 对象存储API密钥已获取
- [ ] 服务器SSH信息已确认
- [ ] 域名信息已确认
- [ ] 小程序AppID已获取

### 部署阶段
- [ ] 后端服务已部署
- [ ] Nginx已配置
- [ ] SSL证书已配置
- [ ] API可以正常访问
- [ ] 数据库已初始化

### 前端阶段
- [ ] 前端配置已修改
- [ ] 前端已编译
- [ ] 功能已测试
- [ ] 代码已上传

### 审核阶段
- [ ] 服务器域名已配置
- [ ] 小程序信息已填写
- [ ] 审核信息已提交
- [ ] 审核已通过
- [ ] 小程序已发布

---

## 💰 成本总结

| 项目 | 成本 | 周期 | 说明 |
|------|------|------|------|
| 服务器 | 100-200元 | 月 | 已购买 |
| 域名 | 50-100元 | 年 | 已购买 |
| 域名备案 | 免费 | - | 已完成 |
| 小程序认证 | 300元 | 年 | 需支付 |
| 短信服务 | 100元 | 一次性 | 充值后按量计费 |
| 对象存储 | 0-50元 | 月 | 首月免费 |
| 图标设计 | 0-500元 | 一次性 | 可选 |
| **总计** | **550-1250元** | **首年** | - |

---

## 📞 下一步行动

### 立即可以做的：
1. **准备图标**（最重要！）
   - 去iconfont.cn下载
   - 或者找设计师
   - 或者用Figma自己设计

2. **申请API密钥**
   - 注册腾讯云/阿里云账号
   - 开通短信服务
   - 开通对象存储服务
   - 获取API密钥

### 准备好后告诉我：
1. **图标准备好了** → 发给我，我放到项目里
2. **API密钥获取了** → 发给我，我配置环境变量
3. **服务器信息确认** → 发给我，我开始部署

---

## 🎯 我能帮你做什么

### 我会做的：
- ✅ 配置所有环境变量
- ✅ 部署后端服务
- ✅ 配置Nginx和SSL
- ✅ 配置前端
- ✅ 测试所有功能
- ✅ 解决部署问题

### 你需要做的：
- ⏳ 准备图标
- ⏳ 申请API密钥
- ⏳ 提供服务器访问
- ⏳ 下载开发工具
- ⏳ 编译上传代码
- ⏳ 提交审核

---

## 📝 需要提供的信息汇总

请把以下信息整理好发给我：

### 1. 服务器信息
```
服务器IP：
SSH端口：
SSH密码：
```

### 2. 域名信息
```
API域名：api.你的域名.com
小程序AppID：wx...
```

### 3. 短信API（腾讯云或阿里云）
```
# 腾讯云
SMS_APP_ID=
SMS_APP_KEY=
SMS_SIGN_NAME=
SMS_TEMPLATE_ID=

# 或阿里云
SMS_ACCESS_KEY_ID=
SMS_ACCESS_KEY_SECRET=
SMS_SIGN_NAME=
SMS_TEMPLATE_CODE=
```

### 4. 对象存储API（腾讯云或阿里云）
```
# 腾讯云COS
COS_SECRET_ID=
COS_SECRET_KEY=
COS_BUCKET=
COS_REGION=

# 或阿里云OSS
OSS_ACCESS_KEY_ID=
OSS_ACCESS_KEY_SECRET=
OSS_BUCKET=
OSS_ENDPOINT=
```

### 5. 鲸探API（可选）
```
JINGTAN_API_KEY=
JINGTAN_API_SECRET=
```

---

## 🎉 准备好了就开始吧！

**现在最重要的是**：
1. ✅ 准备图标（最优先）
2. ✅ 申请API密钥（必须）
3. ✅ 整理信息发给我

**准备好后告诉我，我立即开始部署！** 🚀

---

**有任何问题随时问我！** 💪
