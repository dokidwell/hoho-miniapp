# 前端编译和文案修改指南

## 📝 修改文案（先改文案再编译）

### 方法1：使用HBuilderX可视化编辑（推荐）

#### 1. 下载并安装HBuilderX
- 下载地址：https://www.dcloud.io/hbuilderx.html
- 选择"标准版"即可（免费）
- 安装后打开

#### 2. 导入项目
1. 点击"文件" → "导入" → "从本地目录导入"
2. 选择你从GitHub下载的 `frontend` 目录
3. 点击"选择"

#### 3. 修改文案（可视化）

**常见需要修改的文案位置**：

##### 登录页面 (`pages/login/index.vue`)
```vue
<template>
  <view class="title">欢迎来到HOHO Park</view>  <!-- 可以改成你的小程序名称 -->
  <button>登录</button>  <!-- 按钮文字 -->
</template>
```

##### 注册页面 (`pages/register/index.vue`)
```vue
<template>
  <view class="title">注册账号</view>  <!-- 标题 -->
  <button>注册</button>  <!-- 按钮文字 -->
</template>
```

##### TabBar文字 (`components/TabBar/TabBar.vue`)
```vue
<script setup>
const tabs = [
  { id: 1, name: '作品', icon: '🎨', path: '/pages/index/index' },  // 可以改名字
  { id: 2, name: '创作', icon: '✨', path: '/pages/create/index' },
  { id: 3, name: '集换', icon: '🔄', path: '/pages/jijhuan/index' },
  { id: 4, name: '生态', icon: '🌱', path: '/pages/ecology/index' },
  { id: 5, name: '我的', icon: '👤', path: '/pages/profile/index' }
]
</script>
```

##### 首页 (`pages/index/index.vue`)
```vue
<template>
  <view class="page-title">作品列表</view>  <!-- 页面标题 -->
  <view class="empty-text">暂无作品</view>  <!-- 空状态文案 -->
</template>
```

##### 其他页面
- 直接在HBuilderX中搜索你想改的文字
- 使用 `Ctrl+F` (Windows) 或 `Cmd+F` (Mac) 搜索
- 修改后保存（`Ctrl+S`）

#### 4. 修改小程序名称

**在 `pages.json` 中**：
```json
{
  "globalStyle": {
    "navigationBarTitleText": "HOHO Park"  // 改成你的小程序名称
  }
}
```

**在 `manifest.json` 中**：
```json
{
  "name": "HOHO Park",  // 改成你的小程序名称
  "description": "数字藏品集换平台"  // 改成你的描述
}
```

---

### 方法2：使用VSCode编辑

如果你习惯用VSCode：
1. 用VSCode打开 `frontend` 目录
2. 安装插件："Vue Language Features (Volar)"
3. 搜索并修改文案
4. 保存

---

### 方法3：直接在GitHub上修改

1. 访问 https://github.com/dokidwell/hoho-miniapp
2. 进入 `frontend/pages/...` 找到对应文件
3. 点击"编辑"按钮（铅笔图标）
4. 修改文案
5. 点击"Commit changes"
6. 重新下载代码到本地

---

## 🔧 配置API地址（必须）

### 修改 `frontend/api/config.js`

```javascript
// 开发环境
// export const API_BASE_URL = 'http://localhost:8080'

// 生产环境（改成你的API域名）
export const API_BASE_URL = 'https://api.你的域名.com'
```

**重要**：
- 必须使用 `https://`（微信小程序要求）
- 域名必须已备案
- 域名必须配置了SSL证书

---

## 🔑 配置小程序AppID（必须）

### 修改 `frontend/manifest.json`

找到 `mp-weixin` 部分：
```json
{
  "mp-weixin": {
    "appid": "wx1234567890abcdef",  // 改成你的小程序AppID
    "setting": {
      "urlCheck": true,  // 开发时可以改为false，上线前必须改为true
      "es6": true,
      "minified": true
    }
  }
}
```

**获取AppID**：
1. 登录 https://mp.weixin.qq.com
2. 设置 → 开发设置 → 开发者ID
3. 复制 AppID

---

## 💻 编译小程序

### 方法1：使用HBuilderX（推荐，有可视化界面）

#### 步骤1: 配置微信开发者工具路径

1. 在HBuilderX中，点击"工具" → "设置"
2. 找到"运行配置"
3. 设置"微信开发者工具路径"
   - Windows: `C:\Program Files (x86)\Tencent\微信web开发者工具\cli.bat`
   - Mac: `/Applications/wechatwebdevtools.app/Contents/MacOS/cli`

#### 步骤2: 运行到微信开发者工具

1. 在HBuilderX中，打开项目
2. 点击"运行" → "运行到小程序模拟器" → "微信开发者工具"
3. 首次运行会自动打开微信开发者工具
4. 在微信开发者工具中会自动加载项目

#### 步骤3: 在微信开发者工具中预览

1. 微信开发者工具会自动打开
2. 左侧是代码，右侧是模拟器
3. 可以在模拟器中测试功能
4. 可以点击"预览"生成二维码，用手机扫码真机测试

#### 步骤4: 上传代码

1. 在微信开发者工具中，点击"上传"
2. 填写版本号（如 `1.0.0`）
3. 填写项目备注（如 `首次上线版本`）
4. 点击"上传"

**上传成功后**：
- 代码会上传到微信服务器
- 可以在小程序管理后台看到
- 然后就可以提交审核了

---

### 方法2：只使用微信开发者工具

#### 步骤1: 下载微信开发者工具

- 下载地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html
- 安装后打开

#### 步骤2: 导入项目

1. 打开微信开发者工具
2. 点击"+"号（导入项目）
3. 填写信息：
   - **项目目录**：选择 `frontend` 目录
   - **AppID**：填入你的小程序AppID
   - **项目名称**：HOHO Park（或你的名称）
4. 点击"导入"

#### 步骤3: 编译

1. 项目导入后会自动编译
2. 如果有错误，会在控制台显示
3. 修改错误后，保存文件会自动重新编译

#### 步骤4: 预览测试

1. 点击"预览"按钮
2. 生成二维码
3. 用手机微信扫码
4. 在真机上测试功能

#### 步骤5: 上传代码

1. 点击"上传"按钮
2. 填写版本号和备注
3. 点击"上传"

---

## 🐛 常见编译错误

### 错误1: "不在以下 request 合法域名列表中"

**原因**：API域名未配置

**解决**：
1. 登录 https://mp.weixin.qq.com
2. 设置 → 开发设置 → 服务器域名
3. 添加你的API域名：`https://api.你的域名.com`

**临时解决**（仅开发时）：
- 在微信开发者工具中，点击"详情"
- 勾选"不校验合法域名"

### 错误2: "module 'xxx' is not defined"

**原因**：依赖未安装

**解决**：
```bash
cd frontend
npm install
```

### 错误3: "AppID 不正确"

**原因**：manifest.json中的AppID配置错误

**解决**：
1. 检查 `manifest.json` 中的 `appid`
2. 确保与小程序管理后台的AppID一致

### 错误4: "编译失败"

**原因**：代码语法错误

**解决**：
1. 查看控制台的错误信息
2. 找到出错的文件和行号
3. 修改错误
4. 保存后重新编译

---

## 📱 真机测试

### 方法1: 扫码预览（推荐）

1. 在微信开发者工具中点击"预览"
2. 生成二维码
3. 用手机微信扫码
4. 在手机上测试功能

**注意**：
- 手机和电脑必须在同一网络
- 或者使用"远程调试"功能

### 方法2: 体验版

1. 上传代码后
2. 登录小程序管理后台
3. 管理 → 版本管理 → 开发版本
4. 设置为"体验版"
5. 生成体验版二维码
6. 分享给测试人员

---

## 📋 上传前检查清单

- [ ] 已修改所有需要的文案
- [ ] 已配置正确的API地址（HTTPS）
- [ ] 已配置正确的AppID
- [ ] 已在本地测试所有功能
- [ ] 已在真机测试
- [ ] 已准备好图标（或使用临时方案）
- [ ] API服务器已部署并正常运行
- [ ] 服务器域名已在小程序后台配置

---

## 🎯 快速操作流程

### 完整流程（从修改到上传）

```
1. 下载代码到本地
   ↓
2. 用HBuilderX打开frontend目录
   ↓
3. 修改文案（搜索并替换）
   ↓
4. 修改api/config.js（配置API地址）
   ↓
5. 修改manifest.json（配置AppID）
   ↓
6. 保存所有文件
   ↓
7. 运行到微信开发者工具
   ↓
8. 在模拟器中测试
   ↓
9. 扫码真机测试
   ↓
10. 点击"上传"
   ↓
11. 填写版本号和备注
   ↓
12. 上传成功！
```

**预计时间**：30分钟 - 1小时

---

## 🎨 可视化工具推荐

### HBuilderX的优势
- ✅ 专为Uni-app设计
- ✅ 语法高亮和智能提示
- ✅ 一键运行到微信开发者工具
- ✅ 可视化配置
- ✅ 内置终端

### 微信开发者工具的优势
- ✅ 官方工具，最稳定
- ✅ 实时预览
- ✅ 真机调试
- ✅ 性能分析
- ✅ 直接上传

### 推荐组合
**HBuilderX（编辑代码）+ 微信开发者工具（预览和上传）**

---

## 📞 需要帮助？

### 修改文案相关
- 不确定哪里的文案 → 告诉我具体的页面和内容，我帮你找
- 不知道怎么改 → 告诉我要改成什么，我给你具体的代码

### 编译相关
- 编译报错 → 把错误信息发给我
- 不会操作 → 我可以录制操作视频

### 配置相关
- API地址不知道填什么 → 填你后端部署的域名
- AppID在哪里 → 小程序管理后台 → 设置 → 开发设置

---

**祝你顺利编译上传！** 🚀
