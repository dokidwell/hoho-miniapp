# HOHO小程序项目白皮书

**版本**: 1.0
**最后更新**: 2025年11月21日

---

## 1. 项目概述

HOHO小程序是一个创新的数字作品交易平台，旨在为创作者和收藏家提供一个安全、透明、高效的数字作品创作、展示、交易和交流的社区。平台以微信小程序为载体，充分利用了微信生态的社交便利性，为用户带来流畅的移动端体验。

### 1.1. 项目愿景

我们的愿景是构建一个充满活力的数字创意社区，让每一份创意都能被看见、被珍视、被收藏。我们致力于通过技术手段保护创作者的权益，同时为收藏家提供丰富多样的数字作品选择和安全可靠的交易环境。

### 1.2. 核心功能

- **数字作品创作与发布**：创作者可以轻松上传自己的数字作品，设置发行数量和价格，发布到平台进行展示和销售。
- **作品浏览与发现**：用户可以通过多种方式浏览和发现感兴趣的数字作品，包括推荐、分类、搜索等。
- **安全交易系统**：平台提供安全的交易环境，支持多种支付方式，保障买卖双方的权益。
- **社区互动**：用户可以关注创作者、评论作品、参与社区活动，与其他用户进行交流和互动。
- **透明公示**：平台运营的关键数据，如交易流水、收入支出等，都会进行透明公示，接受社区监督。

### 1.3. 技术亮点

- **前后端分离架构**：采用主流的前后端分离架构，提高了开发效率和系统的可维护性。
- **高性能后端服务**：后端采用Go语言开发，性能卓越，能够轻松应对高并发场景。
- **跨平台前端框架**：前端采用uni-app框架，一套代码可以同时发布到iOS、Android和微信小程序等多个平台。
- **安全可靠的数据库**：采用MySQL数据库，并进行了多重安全加固，确保用户数据的安全。

---

## 2. 代码结构介绍

项目采用模块化的代码结构，清晰地划分了前端、后端和管理后台的代码，便于团队协作和后续维护。

### 2.1. 整体目录结构

```
hoho-miniapp/
├── backend/              # 后端代码 (Go)
├── frontend/             # 前端代码 (uni-app)
├── admin/                # 管理后台代码 (HTML/JS)
├── docs/                 # 项目文档
└── design/               # 设计稿
```

### 2.2. 后端代码结构 (`backend/`)

后端采用经典的MVC（模型-视图-控制器）分层架构，代码结构清晰，职责分明。

```
backend/
├── main.go               # 程序入口和路由配置
├── handlers/             # 控制器层 (处理HTTP请求)
├── services/             # 服务层 (处理业务逻辑)
├── models/               # 模型层 (定义数据结构)
├── database/             # 数据库连接和初始化
├── middleware/           # 中间件 (如JWT认证)
├── config/               # 配置文件
└── go.mod                # Go模块依赖管理
```

### 2.3. 前端代码结构 (`frontend/`)

前端采用uni-app框架，基于Vue.js语法，结构清晰，易于上手。

```
frontend/
├── pages/                # 页面目录
├── components/           # 可复用组件
├── static/               # 静态资源 (图片、字体等)
├── api/                  # API请求封装
├── utils/                # 工具函数
├── store/                # 状态管理 (Vuex)
├── App.vue               # 应用根组件
├── main.js               # 应用入口文件
└── manifest.json         # 应用配置文件
```

### 2.4. 管理后台代码结构 (`admin/`)

管理后台采用轻量级的纯HTML/CSS/JS实现，无需复杂的前端框架，部署简单，运行高效。

```
admin/
├── index.html            # 入口HTML文件
├── assets/               # 静态资源 (CSS, JS, 图片)
├── components/           # 页面模块 (HTML片段)
└── js/                   # 业务逻辑脚本
```

---

## 3. 功能定义

本章节详细定义了HOHO小程序的核心功能模块。

### 3.1. 用户系统

| 功能 | 描述 |
| :--- | :--- |
| **注册** | 用户通过手机号和密码进行注册，注册成功后自动登录。 |
| **登录** | 支持手机号密码登录，登录成功后获取Token用于后续操作。 |
| **个人资料** | 用户可以查看和编辑自己的昵称、头像等个人信息。 |
| **实名认证** | 为保障交易安全，用户需要进行实名认证。 |

### 3.2. 作品系统

| 功能 | 描述 |
| :--- | :--- |
| **作品创作** | 创作者可以上传图片、视频等形式的数字作品，并填写作品信息。 |
| **作品发布** | 创作者可以设置作品的发行数量、价格，并发布到平台。 |
| **作品浏览** | 用户可以按分类、推荐、搜索等方式浏览平台上的所有作品。 |
| **作品详情** | 展示作品的详细信息，包括创作者、发行量、价格、交易历史等。 |

### 3.3. 交易系统

| 功能 | 描述 |
| :--- | :--- |
| **购买作品** | 用户可以使用积分或在线支付购买喜欢的作品。 |
| **出售作品** | 用户可以将自己拥有的作品挂单出售。 |
| **出价/心愿单** | 用户可以对未挂售的作品出价，表达购买意愿。 |
| **交易记录** | 用户可以查看自己的所有买入和卖出记录。 |

### 3.4. 社区系统

| 功能 | 描述 |
| :--- | :--- |
| **公告** | 平台发布官方公告，通知用户重要信息。 |
| **任务** | 用户可以通过完成每日签到、首次购买等任务获得积分奖励。 |
| **发售日历** | 以日历形式展示即将发售的作品，方便用户提前关注。 |
| **透明公示** | 公示平台的关键运营数据，接受社区监督。 |

---

## 4. 术语定义

| 术语 | 定义 |
| :--- | :--- |
| **数字作品** | 指在平台上发行和交易的、具有唯一性的数字化创意成果。 |
| **创作者** | 指在平台上创作和发布数字作品的用户。 |
| **收藏家** | 指在平台上购买和收藏数字作品的用户。 |
| **发行量** | 指一件数字作品发行的总数量。 |
| **积分** | 平台内的虚拟货币，可用于购买作品、参与活动等。 |
| **心愿单** | 用户对未挂售作品的出价列表，表达了用户的购买意愿。 |
| **阳光账户** | 用于公示平台收入和支出的账户，体现了平台的透明度。 |

---

## 5. 用户使用指南

### 5.1. 首次使用

1.  **下载与安装**：在微信中搜索“HOHO小程序”并打开。
2.  **注册与登录**：首次使用需要使用手机号进行注册，注册成功后会自动登录。
3.  **浏览作品**：进入首页，您可以自由浏览平台上的各种数字作品。

### 5.2. 成为创作者

1.  **申请认证**：在“我的”页面，点击“成为创作者”，提交相关资料进行认证。
2.  **上传作品**：认证通过后，您可以在创作页面上传您的作品。
3.  **发布作品**：填写作品信息，设置发行量和价格，即可发布您的作品。

### 5.3. 购买与收藏

1.  **充值积分**：在“我的”页面，可以进行积分充值。
2.  **购买作品**：在作品详情页，点击“购买”按钮，使用积分完成支付。
3.  **查看收藏**：购买成功的作品会出现在您的“我的收藏”中。

---

## 6. 部署与维护指南

### 6.1. 环境要求

- **服务器**：建议使用2核4G以上的云服务器，操作系统为Ubuntu 22.04或CentOS 7以上。
- **后端**：Go 1.18+, MySQL 8.0+, Redis 6.0+
- **前端**：HBuilderX (用于编译uni-app项目)

### 6.2. 部署步骤

1.  **克隆代码**：`git clone https://github.com/dokidwell/hoho-miniapp.git`
2.  **初始化数据库**：
    - 连接到您的MySQL数据库。
    - 创建名为 `hoho_miniapp` 的数据库。
    - 执行 `backend/database/init.sql` 脚本，创建所有数据表。
3.  **配置后端**：
    - 复制 `.env.example` 为 `.env`。
    - 修改 `.env` 文件，填入您的数据库连接信息、JWT密钥等。
4.  **启动后端服务**：
    - `cd backend`
    - `go mod tidy`
    - `go run main.go`
5.  **编译前端**：
    - 使用HBuilderX打开 `frontend` 目录。
    - 配置 `manifest.json` 中的微信小程序AppID。
    - 点击“发行” -> “微信小程序”，生成小程序代码包。
6.  **上传小程序**：
    - 在微信开发者工具中导入生成的小程序项目。
    - 点击“上传”，将代码包上传到微信公众平台。
7.  **发布上线**：
    - 登录微信公众平台，提交审核。
    - 审核通过后，点击“发布”即可上线。

### 6.3. 日常维护

- **数据备份**：定期备份MySQL数据库，防止数据丢失。
- **日志监控**：关注后端服务的运行日志，及时发现和处理问题。
- **版本更新**：如有代码更新，重复部署步骤中的4-7步即可完成更新。
